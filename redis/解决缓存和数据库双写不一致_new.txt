一：不适用更新缓存，而是采用删除，采用懒思想，等查询的时候再去查询。


二：先删除缓存，再修改数据库操作：
出现问题：修改数据库期间如果有其他查询操作且还未修改数据库，则读取到旧数据，导致数据库和缓存数据不一致。
解决：
1.放到队列中，如果期间有查询更新缓存的操作，也放到队列中。  串形化解决。
2.延迟双删策略，（删除缓存，修改数据库，再睡眠，再删除缓存），最后一个删除可以采用异步删除。


三：先修改数据库，再删除缓存。（老外采用）
出现问题：1.缓存过期，有请求查询，读取到了数据库数据。
	接着，另一个客户端打算更新数据，更新完，删除了缓存。
	上一个请求开始更新缓存，更新的数据是旧的。
	2.删除缓存不成功呢，那缓存也是旧的数据。
解决：
针对1问题：缓存设置无限期，或者采用延迟双删除。
针对2问题：阻塞删除，确保删除了。https://www.cnblogs.com/rjzheng/p/9041659.html  ，或者采用这里面的方式.

进阶：
主从同步下，使用先修改，再删除缓存。而从服务器和主服务器数据还没同步，导致删除缓存后，查从库，导致数据不一致。
解决：1.后台缓存标记，更新数据后，保存在redis中。查的时候redis存在，强制读主库。不存在读从库。
2.延时双删。



